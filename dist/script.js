"use strict";function _createForOfIteratorHelper(t,e){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!o){if(Array.isArray(t)||(o=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){o&&(t=o);var a=0,r=function(){};return{s:r,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,c=!0,s=!1;return{s:function(){o=o.call(t)},n:function(){var t=o.next();return c=t.done,t},e:function(t){s=!0,n=t},f:function(){try{c||null==o.return||o.return()}finally{if(s)throw n}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,a=new Array(e);o<e;o++)a[o]=t[o];return a}var themeSwitcher=document.querySelector("[data-theme-toggler]"),body=document.querySelector("body"),theme=JSON.parse(localStorage.getItem("theme"))||"dark-theme";function themeToggler(){"light-theme"==body.className?(body.className="dark-theme")&&localStorage.setItem("theme",JSON.stringify("dark-theme")):(body.className="light-theme")&&localStorage.setItem("theme",JSON.stringify("light-theme"))}body.classList.add(theme),themeSwitcher.addEventListener("click",(function(){themeToggler()}));var form=document.querySelector("[data-form]"),input=document.querySelector("[data-input]"),todoList=document.querySelector("[data-list]"),counterElement=document.querySelector("[data-counter]"),tabs=document.querySelectorAll("[data-tabs]"),clearBtn=document.querySelector("[data-clear]"),zeroTodos=document.querySelector(".todo-none"),animations={fadeIn:[{opacity:0,transform:"scaleY(0)",height:0},{opacity:1,transform:"scaleY(1)"}],fadeOut:[{transform:"scaleY(1)",transformOrigin:"100% 0%",opacity:1},{transform:"scaleY(0)",transformOrigin:"100% 0%",opacity:1,height:0}]},options={duration:700,fill:"forwards"},todoItems=JSON.parse(localStorage.getItem("todos"))||[];function addTodo(){if(""!=input.value.trim()){var t={id:Math.floor(Math.random()*Date.now()),name:input.value,checked:!1};todoItems.push(t),localStorage.setItem("todos",JSON.stringify(todoItems)),input.value="",input.focus(),showActiveTab(tabs[0]),updateTodos(),todoList.lastChild.animate(animations.fadeIn,options)}}function updateTodos(){todoItems=JSON.parse(localStorage.getItem("todos"))||[],removeAllTodos(todoList),countActiveTodos(),todoItems.length<1?zeroTodos.style.display="block":zeroTodos.style.display="none",todoItems.forEach((function(t,e){renderTodo(t,e)}))}function removeAllTodos(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function renderTodo(t,e){var o=document.createDocumentFragment(),a=document.createElement("li");a.classList.add("todo-item"),a.setAttribute("id","".concat(t.id)),t.checked&&a.classList.add("completed");var r=document.createElement("input");r.classList.add("todo-item-input"),r.setAttribute("type","checkbox"),r.setAttribute("data-index","".concat(e)),r.setAttribute("id","item_".concat(t.id)),t.checked?r.checked=!0:r.checked=!1;var n=document.createElement("label");n.setAttribute("for","item_".concat(t.id)),n.classList.add("todo-label"),n.innerHTML='<p class="todo-text">'.concat(t.name,"</p>");var c=document.createElement("span");c.classList.add("todo-check");var s=document.createElement("button");s.setAttribute("data-index","".concat(e)),s.setAttribute("data-delete-button",""),s.setAttribute("aria-label","Remove todo"),s.classList.add("todo-delete-button"),s.innerHTML='<img\n    class="todo-delete-button-image"\n    src="./images/icon-cross.svg"\n  />',n.appendChild(c),a.append(r,n,s),o.appendChild(a),todoList.appendChild(o),r.addEventListener("click",(function(){return checkTodo(a)})),s.addEventListener("click",(function(t){return deleteTodo(t)}))}function checkTodo(t){var e=t.querySelector("input[type=checkbox]").dataset.index;todoItems[e].checked=!todoItems[e].checked,todoItems[e].checked?t.classList.add("completed"):t.classList.remove("completed"),countActiveTodos(),localStorage.setItem("todos",JSON.stringify(todoItems))}function deleteTodo(t){var e=t.target.dataset.index,o=t.target.parentElement;todoItems.splice(e,1),localStorage.setItem("todos",JSON.stringify(todoItems)),o.animate(animations.fadeOut,options),setTimeout((function(){updateTodos()}),700),showActiveTab(tabs[0])}function clearCompletedTodos(){var t=[];todoItems.filter((function(e){return e.checked||t.push(e),t})),localStorage.setItem("todos",JSON.stringify(t)),showActiveTab(tabs[0]),updateTodos()}function countActiveTodos(){var t;t=todoItems.filter((function(t){return!t.checked})).length,counterElement.innerHTML="".concat(t,1==t?" item left":" items left")}function showActiveTab(t){tabs.forEach((function(t){return t.classList.remove("active")})),t&&t.classList.add("active")}tabs.forEach((function(t){t.addEventListener("click",(function(e){showActiveTab(t);var o,a=todoList.children,r=e.target.value,n=_createForOfIteratorHelper(a);try{for(n.s();!(o=n.n()).done;){var c=o.value;switch(r){case"all":c&&c.classList.remove("disappear");break;case"active":c.classList.contains("completed")?c.classList.add("disappear"):c.classList.remove("disappear");break;case"completed":c.classList.contains("completed")?c.classList.remove("disappear"):c.classList.add("disappear")}}}catch(t){n.e(t)}finally{n.f()}}))})),updateTodos(),form.addEventListener("submit",(function(t){t.preventDefault(),addTodo()})),clearBtn.addEventListener("click",clearCompletedTodos),new Sortable(todoList,{animation:500,ghostClass:"selected",onSort:function(){var t=todoList.childNodes,e=JSON.parse(localStorage.getItem("todos")),o=[],a=[];t.forEach((function(t){var e=t.id;a.push(e)})),a.forEach((function(t){var a=!1;e.forEach((function(r,n){a||r.id==t&&(o.push(r),e.splice(n,1),a=!0)}))})),localStorage.setItem("todos",JSON.stringify(o)),updateTodos()}});
//# sourceMappingURL=script.js.map