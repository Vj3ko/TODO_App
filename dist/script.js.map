{"version":3,"sources":["script.js"],"names":["_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","length","i","F","s","n","done","value","e","_e","f","TypeError","err","normalCompletion","didErr","call","step","next","_e2","minLen","_arrayLikeToArray","Object","prototype","toString","slice","constructor","name","from","test","arr","len","arr2","themeSwitcher","document","querySelector","body","theme","JSON","parse","localStorage","getItem","themeToggler","className","setItem","stringify","classList","add","addEventListener","form","input","todoList","counterElement","tabs","querySelectorAll","clearBtn","zeroTodos","animations","fadeIn","opacity","transform","height","fadeOut","transformOrigin","options","duration","fill","todoItems","addTodo","trim","todo","id","Math","floor","random","Date","now","checked","push","focus","showActiveTab","updateTodos","lastChild","animate","removeAllTodos","countActiveTodos","style","display","forEach","index","renderTodo","todos","firstChild","removeChild","fragment","createDocumentFragment","listItem","createElement","setAttribute","concat","checkboxElement","labelElement","innerHTML","spanElement","deleteButton","appendChild","append","checkTodo","deleteTodo","dataset","remove","target","parentElement","splice","setTimeout","clearCompletedTodos","filtered","filter","counter","tab","_step","children","filterBtn","_iterator","contains","event","preventDefault","Sortable","animation","ghostClass","onSort","listChildren","childNodes","storageCurrent","storageSorted","results","child","itemKey","result","isFound","item"],"mappings":"AAAA,aAEA,SAASA,2BAA2BC,EAAGC,GAAkB,IAAIC,EAAuB,oBAAXC,QAA0BH,EAAEG,OAAOC,WAAaJ,EAAE,cAAe,IAAKE,EAAI,CAAE,GAAIG,MAAMC,QAAQN,KAAOE,EAAKK,4BAA4BP,KAAOC,GAAkBD,GAAyB,iBAAbA,EAAEQ,OAAqB,CAAMN,IAAIF,EAAIE,GAAI,IAAIO,EAAI,EAAOC,EAAI,aAAiB,MAAO,CAAEC,EAAGD,EAAGE,EAAG,WAAe,OAAIH,GAAKT,EAAEQ,OAAe,CAAEK,MAAM,GAAe,CAAEA,MAAM,EAAOC,MAAOd,EAAES,OAAWM,EAAG,SAAWC,GAAM,MAAMA,GAAOC,EAAGP,GAAO,MAAM,IAAIQ,UAAU,yIAA4I,IAA6CC,EAAzCC,GAAmB,EAAMC,GAAS,EAAY,MAAO,CAAEV,EAAG,WAAeT,EAAKA,EAAGoB,KAAKtB,IAAOY,EAAG,WAAe,IAAIW,EAAOrB,EAAGsB,OAAsC,OAA9BJ,EAAmBG,EAAKV,KAAaU,GAASR,EAAG,SAAWU,GAAOJ,GAAS,EAAMF,EAAMM,GAAQR,EAAG,WAAe,IAAWG,GAAoC,MAAhBlB,EAAW,QAAWA,EAAW,SAAO,QAAU,GAAImB,EAAQ,MAAMF,KAE/9B,SAASZ,4BAA4BP,EAAG0B,GAAU,GAAK1B,EAAL,CAAgB,GAAiB,iBAANA,EAAgB,OAAO2B,kBAAkB3B,EAAG0B,GAAS,IAAId,EAAIgB,OAAOC,UAAUC,SAASR,KAAKtB,GAAG+B,MAAM,GAAI,GAAiE,MAAnD,WAANnB,GAAkBZ,EAAEgC,cAAapB,EAAIZ,EAAEgC,YAAYC,MAAgB,QAANrB,GAAqB,QAANA,EAAoBP,MAAM6B,KAAKlC,GAAc,cAANY,GAAqB,2CAA2CuB,KAAKvB,GAAWe,kBAAkB3B,EAAG0B,QAAzG,GAE7S,SAASC,kBAAkBS,EAAKC,IAAkB,MAAPA,GAAeA,EAAMD,EAAI5B,UAAQ6B,EAAMD,EAAI5B,QAAQ,IAAK,IAAIC,EAAI,EAAG6B,EAAO,IAAIjC,MAAMgC,GAAM5B,EAAI4B,EAAK5B,IAAO6B,EAAK7B,GAAK2B,EAAI3B,GAAM,OAAO6B,EALhL,IAAMC,cAAgBC,SAASC,cAAc,wBACvCC,KAAOF,SAASC,cAAc,QAEhCE,MAAQC,KAAKC,MAAMC,aAAaC,QAAQ,WAAa,aAQzD,SAASC,eAGQ,eAFGN,KAAKO,WAGlBP,KAAKO,UAAY,eAClBH,aAAaI,QAAQ,QAASN,KAAKO,UAAU,gBAC5CT,KAAKO,UAAY,gBAClBH,aAAaI,QAAQ,QAASN,KAAKO,UAAU,gBAdnDT,KAAKU,UAAUC,IAAIV,OAEnBJ,cAAce,iBAAiB,SAAS,WACtCN,kBAgBF,IAAMO,KAAOf,SAASC,cAAc,eAC9Be,MAAQhB,SAASC,cAAc,gBAC/BgB,SAAWjB,SAASC,cAAc,eAClCiB,eAAiBlB,SAASC,cAAc,kBACxCkB,KAAOnB,SAASoB,iBAAiB,eACjCC,SAAWrB,SAASC,cAAc,gBAClCqB,UAAYtB,SAASC,cAAc,cAIrCsB,WAAa,CACfC,OAAQ,CACN,CAAEC,QAAS,EAAGC,UAAW,YAAaC,OAAQ,GAC9C,CAAEF,QAAS,EAAGC,UAAW,cAE3BE,QAAS,CACP,CACEF,UAAW,YACXG,gBAAiB,UACjBJ,QAAS,GAEX,CACEC,UAAW,YACXG,gBAAiB,UACjBJ,QAAS,EACTE,OAAQ,KAKRG,QAAU,CACdC,SAAU,IACVC,KAAM,YAIJC,UAAY7B,KAAKC,MAAMC,aAAaC,QAAQ,WAAa,GAG7D,SAAS2B,UAEP,GAAY,IADDlB,MAAM1C,MAAM6D,OACvB,CAEA,IAAIC,EAAO,CACTC,GAAIC,KAAKC,MAAMD,KAAKE,SAAWC,KAAKC,OACpCjD,KAAMuB,MAAM1C,MACZqE,SAAS,GAGXV,UAAUW,KAAKR,GACf9B,aAAaI,QAAQ,QAASN,KAAKO,UAAUsB,YAC7CjB,MAAM1C,MAAQ,GACd0C,MAAM6B,QACNC,cAAc3B,KAAK,IACnB4B,cAEA9B,SAAS+B,UAAUC,QAAQ1B,WAAWC,OAAQM,UAKhD,SAASiB,cACPd,UAAY7B,KAAKC,MAAMC,aAAaC,QAAQ,WAAa,GACzD2C,eAAejC,UACfkC,mBAEAlB,UAAUjE,OAAS,EACdsD,UAAU8B,MAAMC,QAAU,QAC1B/B,UAAU8B,MAAMC,QAAU,OAE/BpB,UAAUqB,SAAQ,SAAClB,EAAMmB,GACvBC,WAAWpB,EAAMmB,MAMrB,SAASL,eAAeO,GACtB,KAAOA,EAAMC,YACXD,EAAME,YAAYF,EAAMC,YAM5B,SAASF,WAAWpB,EAAMmB,GACxB,IAAIK,EAAW5D,SAAS6D,yBAElBC,EAAW9D,SAAS+D,cAAc,MACxCD,EAASlD,UAAUC,IAAI,aACvBiD,EAASE,aAAa,KAAtB,GAAAC,OAA+B7B,EAAKC,KACpCD,EAAKO,SAAUmB,EAASlD,UAAUC,IAAI,aAEtC,IAAMqD,EAAkBlE,SAAS+D,cAAc,SAC/CG,EAAgBtD,UAAUC,IAAI,mBAC9BqD,EAAgBF,aAAa,OAAQ,YACrCE,EAAgBF,aAAa,aAA7B,GAAAC,OAA8CV,IAC9CW,EAAgBF,aAAa,KAA7B,QAAAC,OAA2C7B,EAAKC,KAChDD,EAAKO,QACAuB,EAAgBvB,SAAU,EAC1BuB,EAAgBvB,SAAU,EAE/B,IAAMwB,EAAenE,SAAS+D,cAAc,SAC5CI,EAAaH,aAAa,MAA1B,QAAAC,OAAyC7B,EAAKC,KAC9C8B,EAAavD,UAAUC,IAAI,cAC3BsD,EAAaC,UAAb,wBAAAH,OAAiD7B,EAAK3C,KAAtD,QAEA,IAAM4E,EAAcrE,SAAS+D,cAAc,QAC3CM,EAAYzD,UAAUC,IAAI,cAE1B,IAAMyD,EAAetE,SAAS+D,cAAc,UAC5CO,EAAaN,aAAa,aAA1B,GAAAC,OAA2CV,IAC3Ce,EAAaN,aAAa,qBAA1B,IACAM,EAAaN,aAAa,aAA1B,eACAM,EAAa1D,UAAUC,IAAI,sBAC3ByD,EAAaF,UAAb,sFAKAD,EAAaI,YAAYF,GACzBP,EAASU,OAAON,EAAiBC,EAAcG,GAC/CV,EAASW,YAAYT,GACrB7C,SAASsD,YAAYX,GAErBM,EAAgBpD,iBAAiB,SAAS,WAAA,OAAM2D,UAAUX,MAC1DQ,EAAaxD,iBAAiB,SAAS,SAACvC,GAAD,OAAOmG,WAAWnG,MAK3D,SAASkG,UAAUX,GACjB,IACIP,EADWO,EAAS7D,cAAc,wBACjB0E,QAAQpB,MAE7BtB,UAAUsB,GAAOZ,SAAWV,UAAUsB,GAAOZ,QAC7CV,UAAUsB,GAAOZ,QACbmB,EAASlD,UAAUC,IAAI,aACvBiD,EAASlD,UAAUgE,OAAO,aAE9BzB,mBACA7C,aAAaI,QAAQ,QAASN,KAAKO,UAAUsB,YAK/C,SAASyC,WAAWnG,GAClB,IAAIgF,EAAQhF,EAAEsG,OAAOF,QAAQpB,MACzBuB,EAAgBvG,EAAEsG,OAAOC,cAE7B7C,UAAU8C,OAAOxB,EAAO,GACxBjD,aAAaI,QAAQ,QAASN,KAAKO,UAAUsB,YAE7C6C,EAAc7B,QAAQ1B,WAAWK,QAASE,SAC1CkD,YAAW,WACTjC,gBACC,KACHD,cAAc3B,KAAK,IAKrB,SAAS8D,sBACP,IAAIC,EAAW,GACfjD,UAAUkD,QAAO,SAAC/C,GAEhB,OADKA,EAAKO,SAASuC,EAAStC,KAAKR,GAC1B8C,KAGT5E,aAAaI,QAAQ,QAASN,KAAKO,UAAUuE,IAC7CpC,cAAc3B,KAAK,IACnB4B,cAKF,SAASI,mBACP,IAAIiC,EACJA,EAAUnD,UAAUkD,QAAO,SAAC/C,GAAD,OAAWA,EAAKO,WAAS3E,OAE/CkD,eAAekD,UAAf,GAAAH,OAA8BmB,EADxB,GAAXA,EACK,aACA,eAKP,SAAStC,cAAcqC,GACrBhE,KAAKmC,SAAQ,SAAC+B,GAAD,OAASA,EAAIzE,UAAUgE,OAAO,aAC3CO,GAASA,EAAOvE,UAAUC,IAAI,UAKhCM,KAAKmC,SAAQ,SAAC+B,GACZA,EAAIvE,iBAAiB,SAAS,SAACvC,GAC7BuE,cAAcuC,GAEd,IAHmCC,EAG7B7B,EAAQxC,SAASsE,SACjBC,EAAYjH,EAAEsG,OAAOvG,MAJQmH,EAAAlI,2BAMlBkG,GANkB,IAMnC,IAAAgC,EAAAtH,MAAAmH,EAAAG,EAAArH,KAAAC,MAAwB,CAAA,IAAf+D,EAAekD,EAAAhH,MACtB,OAAQkH,GACN,IAAK,MACCpD,GAAMA,EAAKxB,UAAUgE,OAAO,aAChC,MACF,IAAK,SACHxC,EAAKxB,UAAU8E,SAAS,aACpBtD,EAAKxB,UAAUC,IAAI,aACnBuB,EAAKxB,UAAUgE,OAAO,aAC1B,MACF,IAAK,YACFxC,EAAKxB,UAAU8E,SAAS,aAErBtD,EAAKxB,UAAUgE,OAAO,aADtBxC,EAAKxB,UAAUC,IAAI,eAlBM,MAAAlC,GAAA8G,EAAAlH,EAAAI,GAAA,QAAA8G,EAAAhH,WA2BvCsE,cAGAhC,KAAKD,iBAAiB,UAAU,SAAC6E,GAC/BA,EAAMC,iBACN1D,aAIFb,SAASP,iBAAiB,QAASmE,qBAGnC,IAAIY,SAAS5E,SAAU,CACrB6E,UAAW,IACXC,WAAY,WAEZC,OAAQ,WACN,IAAIC,EAAehF,SAASiF,WACxBC,EAAiB/F,KAAKC,MAAMC,aAAaC,QAAQ,UACjD6F,EAAgB,GAChBC,EAAU,GAEdJ,EAAa3C,SAAQ,SAACgD,GACpB,IAAMC,EAAUD,EAAMjE,GACtBgE,EAAQzD,KAAK2D,MAGfF,EAAQ/C,SAAQ,SAACkD,GACf,IAAIC,GAAU,EACdN,EAAe7C,SAAQ,SAACoD,EAAMnD,GACxBkD,GACAC,EAAKrE,IAAMmE,IACbJ,EAAcxD,KAAK8D,GACnBP,EAAepB,OAAOxB,EAAO,GAC7BkD,GAAU,SAIhBnG,aAAaI,QAAQ,QAASN,KAAKO,UAAUyF,IAC7CrD","file":"script.js","sourcesContent":["//theme switcher\r\nconst themeSwitcher = document.querySelector(\"[data-theme-toggler]\");\r\nconst body = document.querySelector(\"body\");\r\n\r\nlet theme = JSON.parse(localStorage.getItem(\"theme\")) || \"dark-theme\";\r\nbody.classList.add(theme);\r\n\r\nthemeSwitcher.addEventListener(\"click\", () => {\r\n  themeToggler();\r\n});\r\n\r\n//toggle between dark and light themes and save it to local storage\r\nfunction themeToggler() {\r\n  let activeTheme = body.className;\r\n\r\n  activeTheme == \"light-theme\"\r\n    ? (body.className = \"dark-theme\") &&\r\n      localStorage.setItem(\"theme\", JSON.stringify(\"dark-theme\"))\r\n    : (body.className = \"light-theme\") &&\r\n      localStorage.setItem(\"theme\", JSON.stringify(\"light-theme\"));\r\n}\r\n//\r\n\r\n//selectors\r\nconst form = document.querySelector(\"[data-form]\");\r\nconst input = document.querySelector(\"[data-input]\");\r\nconst todoList = document.querySelector(\"[data-list]\");\r\nconst counterElement = document.querySelector(\"[data-counter]\");\r\nconst tabs = document.querySelectorAll(\"[data-tabs]\");\r\nconst clearBtn = document.querySelector(\"[data-clear]\");\r\nconst zeroTodos = document.querySelector(\".todo-none\");\r\n//\r\n\r\n//animations\r\nlet animations = {\r\n  fadeIn: [\r\n    { opacity: 0, transform: \"scaleY(0)\", height: 0 },\r\n    { opacity: 1, transform: \"scaleY(1)\" },\r\n  ],\r\n  fadeOut: [\r\n    {\r\n      transform: \"scaleY(1)\",\r\n      transformOrigin: \"100% 0%\",\r\n      opacity: 1,\r\n    },\r\n    {\r\n      transform: \"scaleY(0)\",\r\n      transformOrigin: \"100% 0%\",\r\n      opacity: 1,\r\n      height: 0,\r\n    },\r\n  ],\r\n};\r\n\r\nconst options = {\r\n  duration: 700,\r\n  fill: \"forwards\",\r\n};\r\n//\r\n\r\nlet todoItems = JSON.parse(localStorage.getItem(\"todos\")) || [];\r\n\r\n//addtodo adds a new todo to the list\r\nfunction addTodo() {\r\n  let text = input.value.trim();\r\n  if (text == \"\") return;\r\n\r\n  let todo = {\r\n    id: Math.floor(Math.random() * Date.now()),\r\n    name: input.value,\r\n    checked: false,\r\n  };\r\n\r\n  todoItems.push(todo);\r\n  localStorage.setItem(\"todos\", JSON.stringify(todoItems));\r\n  input.value = \"\";\r\n  input.focus();\r\n  showActiveTab(tabs[0]);\r\n  updateTodos();\r\n\r\n  todoList.lastChild.animate(animations.fadeIn, options);\r\n}\r\n//\r\n\r\n//searches for local storage if it exists and updates the list\r\nfunction updateTodos() {\r\n  todoItems = JSON.parse(localStorage.getItem(\"todos\")) || [];\r\n  removeAllTodos(todoList);\r\n  countActiveTodos();\r\n\r\n  todoItems.length < 1\r\n    ? (zeroTodos.style.display = \"block\")\r\n    : (zeroTodos.style.display = \"none\");\r\n\r\n  todoItems.forEach((todo, index) => {\r\n    renderTodo(todo, index);\r\n  });\r\n}\r\n//\r\n\r\n// when adding new todo to the list, removes all todos to make sure we dont get double values\r\nfunction removeAllTodos(todos) {\r\n  while (todos.firstChild) {\r\n    todos.removeChild(todos.firstChild);\r\n  }\r\n}\r\n//\r\n\r\n//render todo component\r\nfunction renderTodo(todo, index) {\r\n  let fragment = document.createDocumentFragment();\r\n\r\n  const listItem = document.createElement(\"li\");\r\n  listItem.classList.add(\"todo-item\");\r\n  listItem.setAttribute(\"id\", `${todo.id}`);\r\n  todo.checked ? listItem.classList.add(\"completed\") : null;\r\n\r\n  const checkboxElement = document.createElement(\"input\");\r\n  checkboxElement.classList.add(\"todo-item-input\");\r\n  checkboxElement.setAttribute(\"type\", \"checkbox\");\r\n  checkboxElement.setAttribute(\"data-index\", `${index}`);\r\n  checkboxElement.setAttribute(\"id\", `item_${todo.id}`);\r\n  todo.checked\r\n    ? (checkboxElement.checked = true)\r\n    : (checkboxElement.checked = false);\r\n\r\n  const labelElement = document.createElement(\"label\");\r\n  labelElement.setAttribute(\"for\", `item_${todo.id}`);\r\n  labelElement.classList.add(\"todo-label\");\r\n  labelElement.innerHTML = `<p class=\"todo-text\">${todo.name}</p>`;\r\n\r\n  const spanElement = document.createElement(\"span\");\r\n  spanElement.classList.add(\"todo-check\");\r\n\r\n  const deleteButton = document.createElement(\"button\");\r\n  deleteButton.setAttribute(\"data-index\", `${index}`);\r\n  deleteButton.setAttribute(\"data-delete-button\", ``);\r\n  deleteButton.setAttribute(\"aria-label\", `Remove todo`);\r\n  deleteButton.classList.add(\"todo-delete-button\");\r\n  deleteButton.innerHTML = `<img\r\n    class=\"todo-delete-button-image\"\r\n    src=\"./images/icon-cross.svg\"\r\n  />`;\r\n\r\n  labelElement.appendChild(spanElement);\r\n  listItem.append(checkboxElement, labelElement, deleteButton);\r\n  fragment.appendChild(listItem);\r\n  todoList.appendChild(fragment);\r\n\r\n  checkboxElement.addEventListener(\"click\", () => checkTodo(listItem));\r\n  deleteButton.addEventListener(\"click\", (e) => deleteTodo(e));\r\n}\r\n//\r\n\r\n// checks a selected todo item to complete\r\nfunction checkTodo(listItem) {\r\n  let checkbox = listItem.querySelector(\"input[type=checkbox]\");\r\n  let index = checkbox.dataset.index;\r\n\r\n  todoItems[index].checked = !todoItems[index].checked;\r\n  todoItems[index].checked\r\n    ? listItem.classList.add(\"completed\")\r\n    : listItem.classList.remove(\"completed\");\r\n\r\n  countActiveTodos();\r\n  localStorage.setItem(\"todos\", JSON.stringify(todoItems));\r\n}\r\n//\r\n\r\n//deletes selected todo item\r\nfunction deleteTodo(e) {\r\n  let index = e.target.dataset.index;\r\n  let parentElement = e.target.parentElement;\r\n\r\n  todoItems.splice(index, 1);\r\n  localStorage.setItem(\"todos\", JSON.stringify(todoItems));\r\n\r\n  parentElement.animate(animations.fadeOut, options);\r\n  setTimeout(() => {\r\n    updateTodos();\r\n  }, 700);\r\n  showActiveTab(tabs[0]);\r\n}\r\n//\r\n\r\n// clear only completed todos\r\nfunction clearCompletedTodos() {\r\n  let filtered = [];\r\n  todoItems.filter((todo) => {\r\n    if (!todo.checked) filtered.push(todo);\r\n    return filtered;\r\n  });\r\n  \r\n  localStorage.setItem(\"todos\", JSON.stringify(filtered));\r\n  showActiveTab(tabs[0]);\r\n  updateTodos();\r\n}\r\n//\r\n\r\n//count how many todos are left uncompleted\r\nfunction countActiveTodos() {\r\n  let counter = 0;\r\n  counter = todoItems.filter((todo) => !todo.checked).length;\r\n  counter == 1\r\n    ? (counterElement.innerHTML = `${counter} item left`)\r\n    : (counterElement.innerHTML = `${counter} items left`);\r\n}\r\n//\r\n\r\n// adds bluish color style to filtering button\r\nfunction showActiveTab(filter) {\r\n  tabs.forEach((tab) => tab.classList.remove(\"active\"));\r\n  filter ? filter.classList.add(\"active\") : null;\r\n}\r\n//\r\n\r\n// filter todo list depending on filter button pressed\r\ntabs.forEach((tab) => {\r\n  tab.addEventListener(\"click\", (e) => {\r\n    showActiveTab(tab);\r\n\r\n    const todos = todoList.children;\r\n    const filterBtn = e.target.value;\r\n\r\n    for (let todo of todos) {\r\n      switch (filterBtn) {\r\n        case \"all\":\r\n          if (todo) todo.classList.remove(\"disappear\");\r\n          break;\r\n        case \"active\":\r\n          todo.classList.contains(\"completed\")\r\n            ? todo.classList.add(\"disappear\")\r\n            : todo.classList.remove(\"disappear\");\r\n          break;\r\n        case \"completed\":\r\n          !todo.classList.contains(\"completed\")\r\n            ? todo.classList.add(\"disappear\")\r\n            : todo.classList.remove(\"disappear\");\r\n          break;\r\n      }\r\n    }\r\n  });\r\n});\r\n//\r\n\r\nupdateTodos();\r\n\r\n//event listeners\r\nform.addEventListener(\"submit\", (event) => {\r\n  event.preventDefault();\r\n  addTodo();\r\n});\r\n//\r\n\r\nclearBtn.addEventListener(\"click\", clearCompletedTodos);\r\n\r\n//sorting todo items with dragndrop\r\nnew Sortable(todoList, {\r\n  animation: 500,\r\n  ghostClass: \"selected\",\r\n  // save sorted list to local storage\r\n  onSort: () => {\r\n    let listChildren = todoList.childNodes;\r\n    let storageCurrent = JSON.parse(localStorage.getItem(\"todos\"));\r\n    let storageSorted = [];\r\n    let results = [];\r\n\r\n    listChildren.forEach((child) => {\r\n      const itemKey = child.id;\r\n      results.push(itemKey);\r\n    });\r\n\r\n    results.forEach((result) => {\r\n      let isFound = false;\r\n      storageCurrent.forEach((item, index) => {\r\n        if (isFound) return;\r\n        if (item.id == result) {\r\n          storageSorted.push(item);\r\n          storageCurrent.splice(index, 1);\r\n          isFound = true;\r\n        }\r\n      });\r\n    });\r\n    localStorage.setItem(\"todos\", JSON.stringify(storageSorted));\r\n    updateTodos();\r\n  },\r\n});\r\n//\r\n"]}