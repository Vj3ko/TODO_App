{"version":3,"sources":["script.js"],"names":["_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","length","i","F","s","n","done","value","e","_e","f","TypeError","err","normalCompletion","didErr","call","step","next","_e2","minLen","_arrayLikeToArray","Object","prototype","toString","slice","constructor","name","from","test","arr","len","arr2","themeSwitcher","document","querySelector","body","theme","JSON","parse","localStorage","getItem","themeToggler","className","setItem","stringify","classList","add","addEventListener","form","input","todoList","counterElement","tabs","querySelectorAll","clearBtn","todoItems","addTodo","trim","todo","id","Math","floor","random","Date","now","checked","push","focus","showActiveTab","updateTodos","removeAllTodos","countActiveTodos","forEach","index","renderTodo","todos","firstChild","removeChild","fragment","createDocumentFragment","listItem","createElement","setAttribute","concat","checkboxElement","labelElement","innerHTML","spanElement","deleteButton","appendChild","append","checkHandler","deleteHandler","dataset","remove","target","splice","clearCompletedTodos","filtered","filter","counter","tab","_step","children","filterBtn","_iterator","contains","event","preventDefault","Sortable","swap","ghostClass","swapClass","animation","onSort","listChildren","childNodes","storageCurrent","storageSorted","results","child","itemKey","result","isFound","item"],"mappings":"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","file":"script.js","sourcesContent":["//theme switcher\r\nconst themeSwitcher = document.querySelector(\"[data-theme-toggler]\");\r\nconst body = document.querySelector(\"body\");\r\n\r\nlet theme = JSON.parse(localStorage.getItem(\"theme\")) || \"dark-theme\";\r\nbody.classList.add(theme);\r\n\r\nthemeSwitcher.addEventListener(\"click\", () => {\r\n  themeToggler();\r\n});\r\n\r\n//toggle between dark and light themes and save it to local storage\r\nfunction themeToggler() {\r\n  let activeTheme = body.className;\r\n\r\n  activeTheme == \"light-theme\"\r\n    ? (body.className = \"dark-theme\") &&\r\n      localStorage.setItem(\"theme\", JSON.stringify(\"dark-theme\"))\r\n    : (body.className = \"light-theme\") &&\r\n      localStorage.setItem(\"theme\", JSON.stringify(\"light-theme\"));\r\n}\r\n\r\n//selectors\r\nconst form = document.querySelector(\"[data-form]\");\r\nconst input = document.querySelector(\"[data-input]\");\r\nconst todoList = document.querySelector(\"[data-list]\");\r\nconst counterElement = document.querySelector(\"[data-counter]\");\r\nconst tabs = document.querySelectorAll(\"[data-tabs]\");\r\nconst clearBtn = document.querySelector(\"[data-clear]\");\r\n//\r\n\r\nlet todoItems = JSON.parse(localStorage.getItem(\"todos\")) || [];\r\n\r\n//addtodo adds a new todo to the list\r\nfunction addTodo() {\r\n  let text = input.value.trim();\r\n  if (text == \"\") return;\r\n\r\n  let todo = {\r\n    id: Math.floor(Math.random() * Date.now()),\r\n    name: input.value,\r\n    checked: false,\r\n  };\r\n\r\n  todoItems.push(todo);\r\n  localStorage.setItem(\"todos\", JSON.stringify(todoItems));\r\n\r\n  input.value = \"\";\r\n  input.focus();\r\n  showActiveTab(tabs[0]);\r\n  updateTodos();\r\n}\r\n\r\n//searches for local storage if it exits and updates the list\r\nfunction updateTodos() {\r\n  todoItems = JSON.parse(localStorage.getItem(\"todos\")) || [];\r\n  removeAllTodos(todoList);\r\n  countActiveTodos();\r\n\r\n  todoItems.forEach((todo, index) => {\r\n    renderTodo(todo, index);\r\n  });\r\n}\r\n\r\n// when addind new todo to the list, removes all todos to make sure we dont get double values\r\nfunction removeAllTodos(todos) {\r\n  while (todos.firstChild) {\r\n    todos.removeChild(todos.firstChild);\r\n  }\r\n}\r\n\r\n//render todo component\r\nfunction renderTodo(todo, index) {\r\n  let fragment = document.createDocumentFragment();\r\n\r\n  const listItem = document.createElement(\"li\");\r\n  listItem.classList.add(\"todo-item\");\r\n  listItem.setAttribute(\"id\", `${todo.id}`);\r\n  todo.checked ? listItem.classList.add(\"completed\") : null;\r\n\r\n  const checkboxElement = document.createElement(\"input\");\r\n  checkboxElement.classList.add(\"todo-item-input\");\r\n  checkboxElement.setAttribute(\"type\", \"checkbox\");\r\n  checkboxElement.setAttribute(\"data-index\", `${index}`);\r\n  checkboxElement.setAttribute(\"id\", `item_${todo.id}`);\r\n  todo.checked\r\n    ? (checkboxElement.checked = true)\r\n    : (checkboxElement.checked = false);\r\n\r\n  const labelElement = document.createElement(\"label\");\r\n  labelElement.setAttribute(\"for\", `item_${todo.id}`);\r\n  labelElement.classList.add(\"todo-label\");\r\n  labelElement.innerHTML = `<p class=\"todo-text\">${todo.name}</p>`;\r\n\r\n  const spanElement = document.createElement(\"span\");\r\n  spanElement.classList.add(\"todo-check\");\r\n\r\n  const deleteButton = document.createElement(\"button\");\r\n  deleteButton.setAttribute(\"data-index\", `${index}`);\r\n  deleteButton.setAttribute(\"data-delete-button\", ``);\r\n  deleteButton.setAttribute(\"aria-label\", `Remove todo`);\r\n  deleteButton.classList.add(\"todo-delete-button\");\r\n  deleteButton.innerHTML = `<img\r\n    class=\"todo-delete-button-image\"\r\n    src=\"./images/icon-cross.svg\"\r\n  />`;\r\n\r\n  labelElement.appendChild(spanElement);\r\n  listItem.append(checkboxElement, labelElement, deleteButton);\r\n  fragment.appendChild(listItem);\r\n  todoList.appendChild(fragment);\r\n\r\n  checkboxElement.addEventListener(\"click\", () => checkHandler(listItem));\r\n  deleteButton.addEventListener(\"click\", (e) => deleteHandler(e));\r\n}\r\n\r\n// checks a selected todo item to complete\r\nfunction checkHandler(listItem) {\r\n  let checkbox = listItem.querySelector(\"input[type=checkbox]\");\r\n  let index = checkbox.dataset.index;\r\n\r\n  todoItems[index].checked = !todoItems[index].checked;\r\n  todoItems[index].checked\r\n    ? listItem.classList.add(\"completed\")\r\n    : listItem.classList.remove(\"completed\");\r\n\r\n  countActiveTodos();\r\n  localStorage.setItem(\"todos\", JSON.stringify(todoItems));\r\n}\r\n\r\n//deletes selected todo item\r\nfunction deleteHandler(e) {\r\n  let index = e.target.dataset.index;\r\n\r\n  todoItems.splice(index, 1);\r\n  localStorage.setItem(\"todos\", JSON.stringify(todoItems));\r\n  updateTodos();\r\n}\r\n\r\n// clear only completed todos\r\nfunction clearCompletedTodos() {\r\n  let filtered = [];\r\n  todoItems.filter((todo) => {\r\n    if (!todo.checked) filtered.push(todo);\r\n    return filtered;\r\n  });\r\n\r\n  localStorage.setItem(\"todos\", JSON.stringify(filtered));\r\n  updateTodos();\r\n}\r\n\r\n//count how many todos are left uncompleted\r\nfunction countActiveTodos() {\r\n  let counter = 0;\r\n  counter = todoItems.filter((todo) => !todo.checked).length;\r\n  counter == 1\r\n    ? (counterElement.innerHTML = `${counter} item left`)\r\n    : (counterElement.innerHTML = `${counter} items left`);\r\n}\r\n\r\n// adds bluish color style to filtering button\r\nfunction showActiveTab(filter) {\r\n  tabs.forEach((tab) => tab.classList.remove(\"active\"));\r\n  filter ? filter.classList.add(\"active\") : null;\r\n}\r\n\r\n// filter todo list depending on filter button pressed\r\ntabs.forEach((tab) => {\r\n  tab.addEventListener(\"click\", (e) => {\r\n    showActiveTab(tab);\r\n\r\n    const todos = todoList.children;\r\n    const filterBtn = e.target.value;\r\n\r\n    for (let todo of todos) {\r\n      switch (filterBtn) {\r\n        case \"all\":\r\n          if (todo) todo.classList.remove(\"disappear\");\r\n          break;\r\n        case \"active\":\r\n          todo.classList.contains(\"completed\")\r\n            ? todo.classList.add(\"disappear\")\r\n            : todo.classList.remove(\"disappear\");\r\n          break;\r\n        case \"completed\":\r\n          !todo.classList.contains(\"completed\")\r\n            ? todo.classList.add(\"disappear\")\r\n            : todo.classList.remove(\"disappear\");\r\n          break;\r\n      }\r\n    }\r\n  });\r\n});\r\n\r\nupdateTodos();\r\n\r\n//event listeners\r\nform.addEventListener(\"submit\", (event) => {\r\n  event.preventDefault();\r\n  addTodo();\r\n});\r\n\r\nclearBtn.addEventListener(\"click\", clearCompletedTodos);\r\n\r\n//sorting todo items with dragndrop\r\nnew Sortable(todoList, {\r\n  swap: true,\r\n  ghostClass: \"selected\",\r\n  swapClass: \"highlight\",\r\n  animation: 500,\r\n  // save sorted list to local storage\r\n  onSort: () => {\r\n    let listChildren = todoList.childNodes;\r\n    let storageCurrent = JSON.parse(localStorage.getItem(\"todos\"));\r\n    let storageSorted = [];\r\n    let results = [];\r\n\r\n    listChildren.forEach((child) => {\r\n      const itemKey = child.id;\r\n      results.push(itemKey);\r\n    });\r\n\r\n    results.forEach((result) => {\r\n      let isFound = false;\r\n      storageCurrent.forEach((item, index) => {\r\n        if (isFound) return;\r\n        if (item.id == result) {\r\n          storageSorted.push(item);\r\n          storageCurrent.splice(index, 1);\r\n          isFound = true;\r\n        }\r\n      });\r\n    });\r\n\r\n    localStorage.setItem(\"todos\", JSON.stringify(storageSorted));\r\n  },\r\n});\r\n"]}